<x-use
  script-src="https://cdn.jsdelivr.net/gh/PrismJS/prism@1/prism.min.js"
  style-src="https://cdn.jsdelivr.net/gh/PrismJS/prism@1/themes/prism.min.css">
</x-use>
<x-use
  script-src="https://cdn.jsdelivr.net/gh/PrismJS/prism@1/plugins/autoloader/prism-autoloader.min.js">
</x-use>
<x-audio-sound-load
  track-id="buzzer"
  src="/docs/assets/buzzer.wav">
</x-audio-sound-load>
<x-action-activator
  activate="AtTime"
  time="5">
  <x-audio-sound-action
    command="start"
    track-id="buzzer">
  </x-audio-sound-action>
</x-action-activator>


<div class="container container-fluid mx-auto">
  <h1>Timed Sounds</h1>
  <p class="lead">
    This page has a timed sound configured to play
    after being on the page for 5 seconds.
  </p>
  <h2>Play a sound at a certain time!</h2>

  <h3>First: Preload</h3>
  <p>
    To get the timing perfect, again we pre-load the sound using the
    <x-link href="/components/x-audio-sound-load"><b>&lt;x-audio-sound-load&gt;</b></x-link>
    component.
  </p>
  <p>
    <button class="btn btn-light" type="button"
      data-bs-toggle="collapse" data-bs-target="#loadSource"
      aria-expanded="false" aria-controls="loadSource">
      <i class="ri-code-s-slash-line"></i>
      View Route Source
    </button>
    <div class="collapse" id="loadSource">
      <x-markdown>
        <script type="text/markdown">
        ````html
        <x-view-do ...>
          <x-audio-sound-load
            track-id="buzzer"
            src="/docs/assets/buzzer.wav">
          </x-audio-sound-load>
          ...
        </x-view-do>
        ````
        </script>
      </x-markdown>
    </div>
  </p>

  <h3 class="mt-3">Then: Activate by Time</h3>
  <p>
    We play the sound by sending an <x-link href="/actions">event action</x-link> with
    start command after 5 seconds. We use the <x-link href="/components/x-action-activator">
    <b>&lt;x-action-activator&gt;</b></x-link> component and
    <x-link href="/components/x-audio-sound-action"><b>&lt;x-audio-sound-action&gt;</b></x-link>
    components with the command and track-id.
  </p>
  <p>
    <button class="btn btn-light" type="button"
      data-bs-toggle="collapse" data-bs-target="#buttonSource"
      aria-expanded="false" aria-controls="buttonSource">
      <i class="ri-code-s-slash-line"></i>
      View Timer Source
    </button>
    <div class="collapse" id="buttonSource">
      <x-markdown>
        <script type="text/markdown">
        ````html
        <x-action-activator
          activate="AtTime"
          time="5">
          <x-audio-sound-action
            command="start"
            track-id="buzzer">
          </x-audio-sound-action>
        </x-action-activator>
        ````
        </script>
      </x-markdown>
    </div>
  </p>


  <h3>Time it with Animations</h3>
  <p>
    The <x-link href="/components/x-view-do"><b>&lt;x-view-do&gt;</b></x-link>
    component also provides a mechanism for animations and data-binding using
    the view-time. You can easily add animations with simple attributes.
  </p>
  <h4
    class="animate__animated mt-2 mb-2"
    x-out-time="5"
    x-out-class="animate__backOutDown">
    Current time: <span x-time-to></span></h4>

  <h4 hidden class="animate__animated mt-2 mb-2"
    x-in-time="5"
    x-in-class="animate__fadeInUpBig">TIME IS UP!</h4>

  <p hidden class="mt-3 animate__animated animate__fadeIn"
    x-in-time="5">
    <button class="btn btn-light" type="button"
      data-bs-toggle="collapse" data-bs-target="#animationSource"
      aria-expanded="false" aria-controls="animationSource">
      <i class="ri-code-s-slash-line"></i>
      View Animation Source
    </button>
    <div class="collapse" id="animationSource">
      <x-markdown>
        <script type="text/markdown">
        ````html
        <h5
          class="animate__animated"
          x-out-time="5"
          x-out-class="animate__backOutDown"
          >Current time: <span x-time-to></span></h5>

        <h2 hidden class="animate__animated"
          x-in-time="5"
          x-in-class="animate__fadeInUpBig">TIME IS UP!</h2>
        ````
        </script>
      </x-markdown>
    </div>
  </p>


  <div class="x-nav-bottom">
    <button slot="start" x-back class="btn btn-light btn-lg">
      <i class="ri-arrow-left-s-line"></i>
      Back
    </button>
    <button slot="end" x-next class="btn btn-primary btn-lg">
      Continue
      <i class="ri-arrow-right-s-line"></i>
    </button>
  </div>
</div>
