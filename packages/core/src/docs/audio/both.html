<x-use
  script-src="https://cdn.jsdelivr.net/gh/PrismJS/prism@1/prism.min.js"
  style-src="https://cdn.jsdelivr.net/gh/PrismJS/prism@1/themes/prism.min.css">
</x-use>
<x-use
  script-src="https://cdn.jsdelivr.net/gh/PrismJS/prism@1/plugins/autoloader/prism-autoloader.min.js">
</x-use>
<x-audio-music-load
  mode="load"
  track-id="music"
  src="/docs/assets/sample-music-1.mp3">
</x-audio-music-load>
<x-audio-sound-load
  track-id="cheer"
  src="/docs/assets/crowd-cheer.wav">
</x-audio-sound-load>
<div class="container container-fluid mx-auto">
  <h1>
    Music & Sound
  </h1>
  <p class="lead">
    Dual audio layers allow music to play, even across routes while still using
    sounds activated by interactions or time.
  </p>
  <h2>Play music while still reacting to events with sounds!</h2>
  <p>
    This technique can be used with animations to create responsive and
    emissive experiences.
  </p>
  <h3>First: Load Music & Sounds</h3>
  <p>
    Again, we pre-load all sounds for a route using the
    <x-link href="/components/x-audio-sound-load"><b>&lt;x-audio-sound-load&gt;</b></x-link>
    and
    <x-link href="/components/x-audio-music-load"><b>&lt;x-audio-music-load&gt;</b></x-link>
    components. This gets the audio ready
    to play and waits for the start command.
  </p>
  <p>
    <button class="btn btn-light" type="button"
      data-bs-toggle="collapse" data-bs-target="#loadSource"
      aria-expanded="false" aria-controls="loadSource">
      <i class="ri-code-s-slash-line"></i>
      View Route Source
    </button>
    <div class="collapse" id="loadSource">
      <x-markdown>
        <script type="text/markdown">
        ````html
        <x-view-do ...>
          <x-audio-music-load
            mode="load"
            track-id="music"
            src="/docs/assets/sample-music-1.mp3">
          </x-audio-music-load>
          <x-audio-sound-load
            track-id="cheer"
            src="/docs/assets/crowd-cheer.wav">
          </x-audio-sound-load>
          ...
        </x-view-do>
        ````
        > For the music, we set the mode to **load** so it does not play
        right away.
        </script>
      </x-markdown>
    </div>
  </p>
  <h3>Then: Activate</h3>
  <p>
    Again, we play the music by sending an <x-link href="/actions">event action</x-link> with
    start command using the <x-link href="/components/x-action-activator">
    <b>&lt;x-action-activator&gt;</b></x-link> and
    <x-link href="/components/x-audio-action"><b>&lt;x-audio-action&gt;</b></x-link>
    components with the command, audio-type and track-id.
  </p>
  <p>
    <x-action-activator
      activate="OnElementEvent"
      multiple>
      <x-audio-action
        command="start"
        track-id="cheer"
        type="sound"
        discard="none">
      </x-audio-action>
      <button class="btn btn-info text-white">
        <i class="ri-play-circle-line"></i>
        Play Sound
      </button>
    </x-action-activator>
    <x-action-activator
      activate="OnElementEvent">
      <x-audio-action
        command="start"
        track-id="music"
        type="music">
      </x-audio-action>
      <button type="button" class="btn btn-info text-white">
        <i class="ri-play-circle-line"></i>
        Play Music
      </button>
    </x-action-activator>
  </p>
  <p>
    <button class="btn btn-light" type="button"
      data-bs-toggle="collapse" data-bs-target="#buttonSource"
      aria-expanded="false" aria-controls="buttonSource">
      <i class="ri-code-s-slash-line"></i>
      View Buttons Source
    </button>

    <div class="collapse" id="buttonSource">
      <x-markdown>
        <script type="text/markdown">
        ````html
        <x-action-activator
          activate="OnElementEvent"
          multiple>
          <x-audio-action
            command="start"
            track-id="cheer"
            type="sound"
            discard="none">
          </x-audio-action>
          <button class="btn btn-info text-white">Play Sound</button>
        </x-action-activator>
        <x-action-activator
          activate="OnElementEvent">
          <x-audio-action
            command="start"
            track-id="music"
            type="music">
          </x-audio-action>
          <button type="button" class="btn btn-info text-white">Play Music</button>
        </x-action-activator>
        ````
        > We set the activator to **multiple** so it allows us to send
        the same action more than once. By default, this is not allowed.
        </script>
      </x-markdown>
    </div>
  </p>


  <div class="x-nav-bottom">
    <button slot="start" x-back class="btn btn-light btn-lg">
      <i class="ri-arrow-left-s-line"></i>
      Back
    </button>
    <button slot="end" x-link="/audio/timed" class="btn btn-primary btn-lg">
      Continue
      <i class="ri-arrow-right-s-line"></i>
    </button>
  </div>
</div>
